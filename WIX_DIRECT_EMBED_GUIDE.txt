# ğŸ“ Embedding Math Stars in Wix - Complete Guide

## ğŸ¯ Your Situation:
- GitHub is **blocked** on school laptops
- You want to **embed the HTML directly** in Wix
- You need the **teacher parameter** to work

---

## âœ… SOLUTION: Embed Full HTML Code in Wix

### Step-by-Step Instructions:

---

## ğŸ“‹ Step 1: Get the HTML Code

The complete HTML code is in: `C:\kidtools\index.html`

**OR** copy from: https://umairrafiq.github.io/kidtools/ (View Source)

---

## ğŸ”§ Step 2: Add HTML Element in Wix

### In Wix Editor:

1. Click **Add (+)** button (left side)
2. Go to **Embed** section
3. Choose **Custom Embeds**
4. Select **HTML iframe** or **Embed a Widget**
5. Click **"Add Code"**
6. Choose **"Code"** tab
7. Paste the **ENTIRE HTML code** from `index.html`
8. Click **"Apply"**

---

## ğŸŒ Step 3: Set Up Teacher Pages

### Option A: Multiple Pages (RECOMMENDED for Wix)

Create separate Wix pages for each teacher:

#### **Page 1: Ms. Catie's Class**
1. Create page: `/math-mscatie`
2. Add HTML embed with FULL code
3. URL to share: `yoursite.com/math-mscatie?teacher=MsCatie`

#### **Page 2: Mr. Smith's Class**  
1. Create page: `/math-mrsmith`
2. Add HTML embed with FULL code
3. URL to share: `yoursite.com/math-mrsmith?teacher=MrSmith`

---

### Option B: One Page with Dynamic Teacher

Create ONE page: `/math`

**Share different URLs:**
- Ms. Catie: `yoursite.com/math?teacher=MsCatie`
- Mr. Smith: `yoursite.com/math?teacher=MrSmith`

The embedded code will **automatically detect** the teacher parameter from the URL!

---

## ğŸ” How It Works:

The code now has **smart teacher detection** that:

1. âœ… Checks the embedded HTML's own URL
2. âœ… Tries to read from parent Wix page URL
3. âœ… Checks for hash parameters as fallback
4. âœ… Works even if embedded in iframe/widget

```javascript
function getTeacherParameter() {
    // Try current window first
    let urlParams = new URLSearchParams(window.location.search);
    let teacher = urlParams.get('teacher');
    
    // If not found, try parent window (Wix page)
    if (!teacher && window.parent !== window) {
        try {
            urlParams = new URLSearchParams(window.parent.location.search);
            teacher = urlParams.get('teacher');
        } catch (e) {
            console.log('Cross-origin - using fallback');
        }
    }
    
    return teacher;
}
```

---

## ğŸ“± Step 4: Test Your Setup

### Test URLs:

**Without Teacher:**
- `yoursite.com/math`
- Should show: Math Stars Challenge (no banner)

**With Teacher:**
- `yoursite.com/math?teacher=MsCatie`
- Should show: **ğŸ« Class of MsCatie** banner

---

## ğŸ¯ Best Practice for Schools:

### Create Dedicated Teacher Pages

**Why?** More reliable, cleaner URLs, easier for students

#### For Each Teacher:

**1. Create Wix Page**
- URL slug: `/math-mscatie`

**2. Add Title**
```
"Ms. Catie's Math Practice"
```

**3. Embed Full HTML Code**
- Use "Embed a Widget" or "HTML iframe"
- Paste complete `index.html` code

**4. Share Clean URL**
```
yoursite.com/math-mscatie?teacher=MsCatie
```

**Benefits:**
- âœ… Each teacher has branded page
- âœ… Simple, memorable URLs
- âœ… No confusion about parameters
- âœ… Can customize per teacher
- âœ… Professional appearance

---

## ğŸ”¥ Alternative: Hardcode Teacher Name

If dynamic detection doesn't work due to Wix restrictions:

### Modify the Code:

Find this line (around line 349):
```javascript
const teacherName = getTeacherParameter();
```

Replace with:
```javascript
const teacherName = 'MsCatie';  // Hardcode teacher name
```

Then create separate HTML embeds for each teacher with their name hardcoded.

---

## ğŸ“Š Firebase Configuration

**IMPORTANT:** The HTML code already has Firebase configured!

```javascript
const firebaseConfig = {
    apiKey: "AIzaSyCXIyKCeJaxafBFqLTACG_MTBIAwEE5Gj8",
    authDomain: "kidtools-e31ab.firebaseapp.com",
    projectId: "kidtools-e31ab",
    // ... etc
};
```

**This means:**
- âœ… All data saves automatically
- âœ… Students across all Wix pages share same database
- âœ… Standings work globally
- âœ… No additional setup needed

---

## ğŸ¨ Wix Embed Settings

### Recommended Settings:

**Height:** 800px (or "Auto" if available)
**Width:** 100%
**Scrolling:** Auto
**Border:** None

### Make it Responsive:

In Wix editor:
1. Click the HTML embed element
2. Click **"Stretch"** (to make it full-width)
3. Adjust height as needed

---

## ğŸ› Troubleshooting

### Problem 1: "Connection Error" appears

**Cause:** Firebase is blocked by school network

**Solution:** 
- Talk to school IT about whitelisting:
  - `firebasestorage.app`
  - `firebaseapp.com`
  - `googleapis.com`

### Problem 2: Teacher banner not showing

**Cause:** URL parameter not passing

**Solutions:**
1. Make sure URL has `?teacher=MsCatie`
2. Try hardcoding teacher name (see Alternative above)
3. Check browser console (F12) for errors

### Problem 3: Sounds not working

**Cause:** Autoplay restrictions

**Solution:** Sounds will work after first user interaction (clicking any button)

### Problem 4: Code is too large for Wix

**Cause:** Wix has character limits

**Solution:** Use Option A (GitHub iframe) or split into multiple embeds

---

## ğŸ“ File Structure for Wix:

```
Your Wix Site
â”œâ”€â”€ /math-mscatie
â”‚   â””â”€â”€ [HTML Embed with full code]
â”‚   â””â”€â”€ URL: ?teacher=MsCatie
â”‚
â”œâ”€â”€ /math-mrsmith
â”‚   â””â”€â”€ [HTML Embed with full code]
â”‚   â””â”€â”€ URL: ?teacher=MrSmith
â”‚
â””â”€â”€ /math-drjohnson
    â””â”€â”€ [HTML Embed with full code]
    â””â”€â”€ URL: ?teacher=DrJohnson
```

---

## ğŸ“ Teacher Instructions:

### Share this with your students:

**Ms. Catie's students visit:**
```
yourschool.wix.com/math-mscatie?teacher=MsCatie
```

**Instructions for students:**
1. Visit the link
2. See "ğŸ« Class of MsCatie" at top
3. Enter your name
4. Start practicing!
5. All scores save automatically
6. Check "Standings" to compete!

---

## âœ¨ Summary:

### What You Need to Do:

1. **Copy** `index.html` code
2. **Create** Wix page for each teacher (or one shared page)
3. **Embed** HTML code using "Custom Code" or "HTML iframe"
4. **Share** URL with students: `yoursite.com/page?teacher=TeacherName`
5. **Done!** Everything works automatically

### What Students Will See:

- ğŸ« Banner with teacher name
- ğŸ® Full math game
- ğŸ“Š Their progress tracked
- ğŸ† Leaderboard for their class

---

## ğŸš€ Quick Start:

```
1. Open Wix Editor
2. Add â†’ Embed â†’ Custom Code
3. Paste entire index.html code
4. Publish
5. Share: yoursite.com/page?teacher=YourName
```

**That's it!** ğŸ‰

---

## ğŸ“ Need Help?

The code is designed to work automatically. If you have issues:

1. Check that URL has `?teacher=Name`
2. View browser console (F12) for errors
3. Try hardcoding teacher name as fallback
4. Verify Firebase isn't blocked by school

---

**Your Math Stars game is ready to embed in Wix!** ğŸŒŸğŸ“š
