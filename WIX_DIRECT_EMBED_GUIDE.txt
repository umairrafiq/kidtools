# 🎓 Embedding Math Stars in Wix - Complete Guide

## 🎯 Your Situation:
- GitHub is **blocked** on school laptops
- You want to **embed the HTML directly** in Wix
- You need the **teacher parameter** to work

---

## ✅ SOLUTION: Embed Full HTML Code in Wix

### Step-by-Step Instructions:

---

## 📋 Step 1: Get the HTML Code

The complete HTML code is in: `C:\kidtools\index.html`

**OR** copy from: https://umairrafiq.github.io/kidtools/ (View Source)

---

## 🔧 Step 2: Add HTML Element in Wix

### In Wix Editor:

1. Click **Add (+)** button (left side)
2. Go to **Embed** section
3. Choose **Custom Embeds**
4. Select **HTML iframe** or **Embed a Widget**
5. Click **"Add Code"**
6. Choose **"Code"** tab
7. Paste the **ENTIRE HTML code** from `index.html`
8. Click **"Apply"**

---

## 🌐 Step 3: Set Up Teacher Pages

### Option A: Multiple Pages (RECOMMENDED for Wix)

Create separate Wix pages for each teacher:

#### **Page 1: Ms. Catie's Class**
1. Create page: `/math-mscatie`
2. Add HTML embed with FULL code
3. URL to share: `yoursite.com/math-mscatie?teacher=MsCatie`

#### **Page 2: Mr. Smith's Class**  
1. Create page: `/math-mrsmith`
2. Add HTML embed with FULL code
3. URL to share: `yoursite.com/math-mrsmith?teacher=MrSmith`

---

### Option B: One Page with Dynamic Teacher

Create ONE page: `/math`

**Share different URLs:**
- Ms. Catie: `yoursite.com/math?teacher=MsCatie`
- Mr. Smith: `yoursite.com/math?teacher=MrSmith`

The embedded code will **automatically detect** the teacher parameter from the URL!

---

## 🔍 How It Works:

The code now has **smart teacher detection** that:

1. ✅ Checks the embedded HTML's own URL
2. ✅ Tries to read from parent Wix page URL
3. ✅ Checks for hash parameters as fallback
4. ✅ Works even if embedded in iframe/widget

```javascript
function getTeacherParameter() {
    // Try current window first
    let urlParams = new URLSearchParams(window.location.search);
    let teacher = urlParams.get('teacher');
    
    // If not found, try parent window (Wix page)
    if (!teacher && window.parent !== window) {
        try {
            urlParams = new URLSearchParams(window.parent.location.search);
            teacher = urlParams.get('teacher');
        } catch (e) {
            console.log('Cross-origin - using fallback');
        }
    }
    
    return teacher;
}
```

---

## 📱 Step 4: Test Your Setup

### Test URLs:

**Without Teacher:**
- `yoursite.com/math`
- Should show: Math Stars Challenge (no banner)

**With Teacher:**
- `yoursite.com/math?teacher=MsCatie`
- Should show: **🏫 Class of MsCatie** banner

---

## 🎯 Best Practice for Schools:

### Create Dedicated Teacher Pages

**Why?** More reliable, cleaner URLs, easier for students

#### For Each Teacher:

**1. Create Wix Page**
- URL slug: `/math-mscatie`

**2. Add Title**
```
"Ms. Catie's Math Practice"
```

**3. Embed Full HTML Code**
- Use "Embed a Widget" or "HTML iframe"
- Paste complete `index.html` code

**4. Share Clean URL**
```
yoursite.com/math-mscatie?teacher=MsCatie
```

**Benefits:**
- ✅ Each teacher has branded page
- ✅ Simple, memorable URLs
- ✅ No confusion about parameters
- ✅ Can customize per teacher
- ✅ Professional appearance

---

## 🔥 Alternative: Hardcode Teacher Name

If dynamic detection doesn't work due to Wix restrictions:

### Modify the Code:

Find this line (around line 349):
```javascript
const teacherName = getTeacherParameter();
```

Replace with:
```javascript
const teacherName = 'MsCatie';  // Hardcode teacher name
```

Then create separate HTML embeds for each teacher with their name hardcoded.

---

## 📊 Firebase Configuration

**IMPORTANT:** The HTML code already has Firebase configured!

```javascript
const firebaseConfig = {
    apiKey: "AIzaSyCXIyKCeJaxafBFqLTACG_MTBIAwEE5Gj8",
    authDomain: "kidtools-e31ab.firebaseapp.com",
    projectId: "kidtools-e31ab",
    // ... etc
};
```

**This means:**
- ✅ All data saves automatically
- ✅ Students across all Wix pages share same database
- ✅ Standings work globally
- ✅ No additional setup needed

---

## 🎨 Wix Embed Settings

### Recommended Settings:

**Height:** 800px (or "Auto" if available)
**Width:** 100%
**Scrolling:** Auto
**Border:** None

### Make it Responsive:

In Wix editor:
1. Click the HTML embed element
2. Click **"Stretch"** (to make it full-width)
3. Adjust height as needed

---

## 🐛 Troubleshooting

### Problem 1: "Connection Error" appears

**Cause:** Firebase is blocked by school network

**Solution:** 
- Talk to school IT about whitelisting:
  - `firebasestorage.app`
  - `firebaseapp.com`
  - `googleapis.com`

### Problem 2: Teacher banner not showing

**Cause:** URL parameter not passing

**Solutions:**
1. Make sure URL has `?teacher=MsCatie`
2. Try hardcoding teacher name (see Alternative above)
3. Check browser console (F12) for errors

### Problem 3: Sounds not working

**Cause:** Autoplay restrictions

**Solution:** Sounds will work after first user interaction (clicking any button)

### Problem 4: Code is too large for Wix

**Cause:** Wix has character limits

**Solution:** Use Option A (GitHub iframe) or split into multiple embeds

---

## 📁 File Structure for Wix:

```
Your Wix Site
├── /math-mscatie
│   └── [HTML Embed with full code]
│   └── URL: ?teacher=MsCatie
│
├── /math-mrsmith
│   └── [HTML Embed with full code]
│   └── URL: ?teacher=MrSmith
│
└── /math-drjohnson
    └── [HTML Embed with full code]
    └── URL: ?teacher=DrJohnson
```

---

## 🎓 Teacher Instructions:

### Share this with your students:

**Ms. Catie's students visit:**
```
yourschool.wix.com/math-mscatie?teacher=MsCatie
```

**Instructions for students:**
1. Visit the link
2. See "🏫 Class of MsCatie" at top
3. Enter your name
4. Start practicing!
5. All scores save automatically
6. Check "Standings" to compete!

---

## ✨ Summary:

### What You Need to Do:

1. **Copy** `index.html` code
2. **Create** Wix page for each teacher (or one shared page)
3. **Embed** HTML code using "Custom Code" or "HTML iframe"
4. **Share** URL with students: `yoursite.com/page?teacher=TeacherName`
5. **Done!** Everything works automatically

### What Students Will See:

- 🏫 Banner with teacher name
- 🎮 Full math game
- 📊 Their progress tracked
- 🏆 Leaderboard for their class

---

## 🚀 Quick Start:

```
1. Open Wix Editor
2. Add → Embed → Custom Code
3. Paste entire index.html code
4. Publish
5. Share: yoursite.com/page?teacher=YourName
```

**That's it!** 🎉

---

## 📞 Need Help?

The code is designed to work automatically. If you have issues:

1. Check that URL has `?teacher=Name`
2. View browser console (F12) for errors
3. Try hardcoding teacher name as fallback
4. Verify Firebase isn't blocked by school

---

**Your Math Stars game is ready to embed in Wix!** 🌟📚
